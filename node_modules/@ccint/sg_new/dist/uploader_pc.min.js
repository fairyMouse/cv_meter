!function(i,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a(require("@ccint/sg_new"),require("jquery"));else if("function"==typeof define&&define.amd)define(["@ccint/sg_new","jquery"],a);else{var e="object"==typeof exports?a(require("@ccint/sg_new"),require("jquery")):a(i.sg,i.$);for(var t in e)("object"==typeof exports?exports:i)[t]=e[t]}}(this,function(i,a){return function(i){function a(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return i[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}var e={};return a.m=i,a.c=e,a.d=function(i,e,t){a.o(i,e)||Object.defineProperty(i,e,{configurable:!1,enumerable:!0,get:t})},a.n=function(i){var e=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(e,"a",e),e},a.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},a.p="",a(a.s=30)}({0:function(a,e){a.exports=i},1:function(i,e){i.exports=a},30:function(i,a,e){"use strict";function t(i){return i&&i.__esModule?i:{default:i}}var o=t(e(1));t(e(0)).default.Component.define("UploaderPc",{properties:{url:"",maxSize:0,minSize:0,extension:"*",multiple:!1,autoUpload:!1,async:!0,swf:null,title:null,click:null,change:null,validate:null,submit:null,progress:null,cancel:null,success:null,error:null,complete:function(i,a,e){try{/\*\/$|-->$/.test(e)&&(e=e.replace(/\n|\r/g,"##\\n##").replace(/\/\*.*?\*\/$|<!--.*?-->$/,"").replace(/##\\n##/g,"\n").replace(/^\s+/,"").replace(/\s+$/,"")),(e=o.default.parseJSON(e)||"").data?this.__success(i,a,e.data):this.__error(i,a,e.msg||"serverError",e.errno||500)}catch(i){}},queuestart:null,queuecomplete:null,dragenter:null,dragleave:null,drop:null,dropSelector:null},template:'<div class="sg_uploader" style="position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden"><ul class="sg_uploader_queue" style="display:none"></ul></div>',render:function(i){var a=this;"static"===i.css("position")&&i.css("position","relative"),i.append((0,o.default)(a.template)),a.element=i,a.title&&i.attr("title",a.title),a.uploader=i.find(".sg_uploader"),a._queue=a.uploader.find(".sg_uploader_queue"),a._extension=function(){if(a.extension&&"*"!==a.extension){var i={};return o.default.each(a.extension.split(","),function(a,e){i[e.toLowerCase()]=1}),i}}();var e=void 0,t=void 0,p=void 0,n="click,change,validate,submit,progress,cancel,queuestart,complete,queuecomplete,success,error".split(",");for(e=0,t=n.length;e<t;e++)p=n[e],a["__"+p]="function"==typeof a[p]?a[p]:function(){};var l={};for(var r in a.UPLOADER_DRAG)l[r]=function(i){return"function"==typeof i?function(){return i.apply(a,arguments)}:i}(a.UPLOADER_DRAG[r]);a.drag=a.UPLOADER_DRAG=l,a._createButton()},onBeforeDestroy:function(i){var a=this,e=a._clone,t=void 0;e&&((t=e.attr("data-id"))&&e.attr("id",t).removeAttr("data-id"),(t=e.attr("data-position"))&&e.css("position",t).removeAttr("data-position"),e.before(a.element).remove()),a.uploader&&a.uploader.remove(),i()},setOption:function(i,a){if("title"===i){if(this._swf)return;this.uploader.attr("title",a),this._file.attr("title",a)}},upload:function(i){var a=this,e=void 0,t=void 0,p=void 0;if(i)a._submitItem(i);else if(e=a._queue.children(".uploader_todo"),t=[],a._swf)a._swf.startUpload();else if(a._form){if(p=function(i){var e=i.shift(),t=void 0,n=void 0,l=void 0,r=void 0;if(e){if(e=(0,o.default)(e),t=e.attr("data-index"),l=e.find(".uploader_file")[0],n=t,r=l.value.substr(l.value.lastIndexOf("\\")+1),!1===a.__submit(n,r))return!1;a._submitForm(n,r,l,function(t){a.__complete(n,r,t),e.removeClass("uploader_todo"),p(i)})}else a.__queuecomplete()},e.find(".uploader_file").each(function(){t.push(this.value.substr(this.value.lastIndexOf("\\")+1))}),!1===a.__queuestart(t))return void a.clearQueue();p(e.toArray())}else{if(p=function(i){function e(o){var r=o.shift(),c=void 0,s=void 0;if(r){if(c=n+"_"+l,s=r.name,l++,!1===a.__submit(c,s))return!1;a._submitXhr(c,s,r,function(i){a.__complete(c,s,i),e(o)})}else t.removeClass("uploader_todo"),p(i)}var t=i.shift(),n=void 0,l=void 0,r=void 0;t?(t=(0,o.default)(t),n=t.attr("data-index"),l=0,r=t.find(".uploader_file")[0],e(a.toArray(r._dragFiles||r.files))):a.__queuecomplete()},e.find(".uploader_file").each(function(){for(var i=0,a=this.files.length;i<a;i++)t.push(this.files[i].name)}),!1===a.__queuestart(t))return void a.clearQueue();p(e.toArray())}},toArray:function(i){var a=[].slice,e={}.hasOwnProperty;try{return a.call(i)}catch(a){var t=[],o=void 0;for(o in i)e.call(i,o)&&t.push(i[o]);return t}},cancel:function(i){var a=this._submits[i];return!!a&&(a.abort(),!0)},clearFile:function(){var i=this,a=i._file;a[0]._dragFiles&&delete a[0]._dragFiles,a.unbind("click change").val(""),i._file=a.clone(!0).insertAfter(a).bind("click",i.events.click).bind("change",i.events.change),a.remove()},clearQueue:function(){this._queue.children().remove()},_submitItem:function(i){var a=this,e=void 0,t=void 0,o=void 0,p=void 0,n=void 0,l=void 0,r=void 0,c=void 0;if(n=i.split("_"),l=n[0],r=n[1],!a._swf&&(o=a._queue.children(),(p=o.eq(l)).length))if(t=p.find(".uploader_file")[0],a._form){if(c=t.value.substr(t.value.lastIndexOf("\\")+1),!1===a.__submit(i,c))return!1;a._submitForm(i,c,t,function(e){a.__complete(i,c,e),p.removeClass("uploader_todo")})}else if(e=t._dragFiles||t.files,t=e[r]){if(c=t.name,!1===a.__submit(i,c))return!1;a._submitXhr(i,c,t,function(t){a.__complete(i,c,t),1===e.length&&p.removeClass("uploader_todo")})}},_submits:{},_submitForm:function(i,a,e,t){var p=this,n=void 0,l=void 0,r=e.parentNode,c=void 0,s=p.url;"LI"===r.tagName&&(r=(0,o.default)(r),c="uploader_"+(new Date).getTime(),n=(0,o.default)('<form target="'+c+'" method="post" enctype="multipart/form-data"></form>'),l=(0,o.default)('<iframe name="'+c+'"></iframe>'),r.append(n).append(l),n.append(e).attr("action",s+(~s.indexOf("?")?"&":"?")+"extension="+p.extension),l[0].attachEvent("onload",function(){p.progress&&p.__progress(i,a,1,1,1),t(l[0].contentWindow.document.body.innerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))})),n.submit()},_submitXhr:function(i,a,e,t){var o=this,p=o.url,n=new XMLHttpRequest,l=void 0,r=void 0,c=void 0;o.progress&&(r=+new Date,c=function(e,t){var p=+new Date,n=parseInt(e/t*100)/100;(p-r>99||1===n)&&(r=p,o.__progress(i,a,e,t,n))}),p+=(~p.indexOf("?")?"&":"?")+"uploader_file="+encodeURIComponent(e.name)+"&extension="+o.extension,n.onabort=function(){o.__cancel(i,a)},n.onreadystatechange=function(){4===n.readyState&&n.readyState!==l&&n.status>=200&&(l=n.readyState,delete o._submits[i],t(n.responseText))},n.upload&&c&&(n.upload.onprogress=function(i){i.lengthComputable&&c(i.loaded,i.total)}),n.open("POST",p,o.async),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Cache-Control","no-cache"),n.setRequestHeader("Content-Type","application/octet-stream"),n.send(e),o._submits[i]=n},_drop:function(i){var a=this;a._file[0]._dragFiles=i.dataTransfer.files,a.events.change(i)},_index:0,_createButton:function(){var i=this,a=i.element,e=a[0].style.position,t=void 0;e&&a.attr("data-position",e),!window.File&&i.multiple&&i.swf&&window.SWFUpload?(i.uploader.remove(),i._createButtonSwf()):((t=(0,o.default)('<input class="uploader_file" name="uploader_file" type="file" tabindex="-1" style="position:absolute;top:0;right:0;bottom:0;font-size:118px;margin:0;padding:0;opacity:0;filter:alpha(opacity=0);cursor:pointer"/>')).bind("click",i.events.click).bind("change",i.events.change).attr("accept",function(i){var a=[],e=void 0,t=void 0,o={323:"text/h323","3gp":"video/3gpp",aab:"application/x-authoware-bin",aam:"application/x-authoware-map",aas:"application/x-authoware-seg",acx:"application/internet-property-stream",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",als:"audio/X-Alpha5",amc:"application/x-mpeg",ani:"application/octet-stream",apk:"application/vnd.android.package-archive",asc:"text/plain",asd:"application/astound",asf:"video/x-ms-asf",asn:"application/astound",asp:"application/x-asap",asr:"video/x-ms-asf",asx:"video/x-ms-asf",au:"audio/basic",avb:"application/octet-stream",avi:"video/x-msvideo",awb:"audio/amr-wb",axs:"application/olescript",bas:"text/plain",bcpio:"application/x-bcpio",bin:"application/octet-stream",bld:"application/bld",bld2:"application/bld2",bmp:"image/bmp",bpk:"application/octet-stream",bz2:"application/x-bzip2",c:"text/plain",cal:"image/x-cals",cat:"application/vnd.ms-pkiseccat",ccn:"application/x-cnc",cco:"application/x-cocoa",cdf:"application/x-cdf",cer:"application/x-x509-ca-cert",cgi:"magnus-internal/cgi",chat:"application/x-chat",class:"application/octet-stream",clp:"application/x-msclip",cmx:"image/x-cmx",co:"application/x-cult3d-object",cod:"image/cis-cod",conf:"text/plain",cpio:"application/x-cpio",cpp:"text/plain",cpt:"application/mac-compactpro",crd:"application/x-mscardfile",crl:"application/pkix-crl",crt:"application/x-x509-ca-cert",csh:"application/x-csh",csm:"chemical/x-csml",csml:"chemical/x-csml",css:"text/css",cur:"application/octet-stream",dcm:"x-lml/x-evm",dcr:"application/x-director",dcx:"image/x-dcx",der:"application/x-x509-ca-cert",dhtml:"text/html",dir:"application/x-director",dll:"application/x-msdownload",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dvi:"application/x-dvi",dwf:"drawing/x-dwf",dwg:"application/x-autocad",dxf:"application/x-autocad",dxr:"application/x-director",ebk:"application/x-expandedbook",emb:"chemical/x-embl-dl-nucleotide",embl:"chemical/x-embl-dl-nucleotide",eps:"application/postscript",epub:"application/epub+zip",eri:"image/x-eri",es:"audio/echospeech",esl:"audio/echospeech",etc:"application/x-earthtime",etx:"text/x-setext",evm:"x-lml/x-evm",evy:"application/envoy",exe:"application/octet-stream",fh4:"image/x-freehand",fh5:"image/x-freehand",fhc:"image/x-freehand",fif:"application/fractals",flr:"x-world/x-vrml",flv:"flv-application/octet-stream",fm:"application/x-maker",fpx:"image/x-fpx",fvi:"video/isivideo",gau:"chemical/x-gaussian-input",gca:"application/x-gca-compressed",gdb:"x-lml/x-gdb",gif:"image/gif",gps:"application/x-gps",gtar:"application/x-gtar",gz:"application/x-gzip",h:"text/plain",hdf:"application/x-hdf",hdm:"text/x-hdml",hdml:"text/x-hdml",hlp:"application/winhlp",hqx:"application/mac-binhex40",hta:"application/hta",htc:"text/x-component",htm:"text/html",html:"text/html",hts:"text/html",htt:"text/webviewhtml",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ief:"image/ief",ifm:"image/gif",ifs:"image/ifs",iii:"application/x-iphone",imy:"audio/melody",ins:"application/x-internet-signup",ips:"application/x-ipscript",ipx:"application/x-ipix",isp:"application/x-internet-signup",it:"audio/x-mod",itz:"audio/x-mod",ivr:"i-world/i-vrml",j2k:"image/j2k",jad:"text/vnd.sun.j2me.app-descriptor",jam:"application/x-jam",jar:"application/java-archive",java:"text/plain",jfif:"image/pipeg",jnlp:"application/x-java-jnlp-file",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",jpz:"image/jpeg",js:"application/x-javascript",jwc:"application/jwc",kjx:"application/x-kjx",lak:"x-lml/x-lak",latex:"application/x-latex",lcc:"application/fastman",lcl:"application/x-digitalloca",lcr:"application/x-digitalloca",lgh:"application/lgh",lha:"application/octet-stream",lml:"x-lml/x-lml",lmlpack:"x-lml/x-lmlpack",log:"text/plain",lsf:"video/x-la-asf",lsx:"video/x-la-asf",lzh:"application/octet-stream",m13:"application/x-msmediaview",m14:"application/x-msmediaview",m15:"audio/x-mod",m3u:"audio/x-mpegurl",m3url:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",ma1:"audio/ma1",ma2:"audio/ma2",ma3:"audio/ma3",ma5:"audio/ma5",man:"application/x-troff-man",map:"magnus-internal/imagemap",mbd:"application/mbedlet",mct:"application/x-mascot",mdb:"application/x-msaccess",mdz:"audio/x-mod",me:"application/x-troff-me",mel:"text/x-vmel",mht:"message/rfc822",mhtml:"message/rfc822",mi:"application/x-mif",mid:"audio/mid",midi:"audio/midi",mif:"application/x-mif",mil:"image/x-cals",mio:"audio/x-mio",mmf:"application/x-skt-lbs",mng:"video/x-mng",mny:"application/x-msmoney",moc:"application/x-mocha",mocha:"application/x-mocha",mod:"audio/x-mod",mof:"application/x-yumekara",mol:"chemical/x-mdl-molfile",mop:"chemical/x-mopac-input",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"video/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpc:"application/vnd.mpohun.certificate",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpn:"application/vnd.mophun.application",mpp:"application/vnd.ms-project",mps:"application/x-mapserver",mpv2:"video/mpeg",mrl:"text/x-mrml",mrm:"application/x-mrm",ms:"application/x-troff-ms",msg:"application/vnd.ms-outlook",mts:"application/metastream",mtx:"application/metastream",mtz:"application/metastream",mvb:"application/x-msmediaview",mzv:"application/metastream",nar:"application/zip",nbmp:"image/nbmp",nc:"application/x-netcdf",ndb:"x-lml/x-ndb",ndwn:"application/ndwn",nif:"application/x-nif",nmz:"application/x-scream","nokia-op-logo":"image/vnd.nok-oplogo-color",npx:"application/x-netfpx",nsnd:"audio/nsnd",nva:"application/x-neva1",nws:"message/rfc822",oda:"application/oda",ogg:"audio/ogg",oom:"application/x-AtlasMate-Plugin",p10:"application/pkcs10",p12:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",p7c:"application/x-pkcs7-mime",p7m:"application/x-pkcs7-mime",p7r:"application/x-pkcs7-certreqresp",p7s:"application/x-pkcs7-signature",pac:"audio/x-pac",pae:"audio/x-epac",pan:"application/x-pan",pbm:"image/x-portable-bitmap",pcx:"image/x-pcx",pda:"image/x-pda",pdb:"chemical/x-pdb",pdf:"application/pdf",pfr:"application/font-tdpfr",pfx:"application/x-pkcs12",pgm:"image/x-portable-graymap",pict:"image/x-pict",pko:"application/ynd.ms-pkipko",pm:"application/x-perl",pma:"application/x-perfmon",pmc:"application/x-perfmon",pmd:"application/x-pmd",pml:"application/x-perfmon",pmr:"application/x-perfmon",pmw:"application/x-perfmon",png:"image/png",pnm:"image/x-portable-anymap",pnz:"image/png","pot,":"application/vnd.ms-powerpoint",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pqf:"application/x-cprplayer",pqi:"application/cprplayer",prc:"application/x-prc",prf:"application/pics-rules",prop:"text/plain",proxy:"application/x-ns-proxy-autoconfig",ps:"application/postscript",ptlk:"application/listenup",pub:"application/x-mspublisher",pvx:"video/x-pv-pvx",qcp:"audio/vnd.qcelp",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",r3t:"text/vnd.rn-realtext3d",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rar:"application/octet-stream",ras:"image/x-cmu-raster",rc:"text/plain",rdf:"application/rdf+xml",rf:"image/vnd.rn-realflash",rgb:"image/x-rgb",rlf:"application/x-richlink",rm:"audio/x-pn-realaudio",rmf:"audio/x-rmf",rmi:"audio/mid",rmm:"audio/x-pn-realaudio",rmvb:"audio/x-pn-realaudio",rnx:"application/vnd.rn-realplayer",roff:"application/x-troff",rp:"image/vnd.rn-realpix",rpm:"audio/x-pn-realaudio-plugin",rt:"text/vnd.rn-realtext",rte:"x-lml/x-gps",rtf:"application/rtf",rtg:"application/metastream",rtx:"text/richtext",rv:"video/vnd.rn-realvideo",rwc:"application/x-rogerwilco",s3m:"audio/x-mod",s3z:"audio/x-mod",sca:"application/x-supercard",scd:"application/x-msschedule",sct:"text/scriptlet",sdf:"application/e-score",sea:"application/x-stuffit",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",sgm:"text/x-sgml",sgml:"text/x-sgml",sh:"application/x-sh",shar:"application/x-shar",shtml:"magnus-internal/parsed-html",shw:"application/presentations",si6:"image/si6",si7:"image/vnd.stiwap.sis",si9:"image/vnd.lgtwap.sis",sis:"application/vnd.symbian.install",sit:"application/x-stuffit",skd:"application/x-Koan",skm:"application/x-Koan",skp:"application/x-Koan",skt:"application/x-Koan",slc:"application/x-salsa",smd:"audio/x-smd",smi:"application/smil",smil:"application/smil",smp:"application/studiom",smz:"audio/x-smd",snd:"audio/basic",spc:"application/x-pkcs7-certificates",spl:"application/futuresplash",spr:"application/x-sprite",sprite:"application/x-sprite",sdp:"application/sdp",spt:"application/x-spt",src:"application/x-wais-source",sst:"application/vnd.ms-pkicertstore",stk:"application/hyperstudio",stl:"application/vnd.ms-pkistl",stm:"text/html",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svf:"image/vnd",svg:"image/svg+xml",svh:"image/svh",svr:"x-world/x-svr",swf:"application/x-shockwave-flash",swfl:"application/x-shockwave-flash",t:"application/x-troff",tad:"application/octet-stream",talk:"text/x-speech",tar:"application/x-tar",taz:"application/x-tar",tbp:"application/x-timbuktu",tbt:"application/x-timbuktu",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tgz:"application/x-compressed",thm:"application/vnd.eri.thm",tif:"image/tiff",tiff:"image/tiff",tki:"application/x-tkined",tkined:"application/x-tkined",toc:"application/toc",toy:"image/toy",tr:"application/x-troff",trk:"x-lml/x-gps",trm:"application/x-msterminal",tsi:"audio/tsplayer",tsp:"application/dsptype",tsv:"text/tab-separated-values",ttf:"application/octet-stream",ttz:"application/t-time",txt:"text/plain",uls:"text/iuls",ult:"audio/x-mod",ustar:"application/x-ustar",uu:"application/x-uuencode",uue:"application/x-uuencode",vcd:"application/x-cdlink",vcf:"text/x-vcard",vdo:"video/vdo",vib:"audio/vib",viv:"video/vivo",vivo:"video/vivo",vmd:"application/vocaltec-media-desc",vmf:"application/vocaltec-media-file",vmi:"application/x-dreamcast-vms-info",vms:"application/x-dreamcast-vms",vox:"audio/voxware",vqe:"audio/x-twinvq-plugin",vqf:"audio/x-twinvq",vql:"audio/x-twinvq",vre:"x-world/x-vream",vrml:"x-world/x-vrml",vrt:"x-world/x-vrt",vrw:"x-world/x-vream",vts:"workbook/formulaone",wav:"audio/x-wav",wax:"audio/x-ms-wax",wbmp:"image/vnd.wap.wbmp",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",web:"application/vnd.xara",wi:"image/wavelet",wis:"application/x-InstallShield",wks:"application/vnd.ms-works",wm:"video/x-ms-wm",wma:"audio/x-ms-wma",wmd:"application/x-ms-wmd",wmf:"application/x-msmetafile",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wmlscript:"text/vnd.wap.wmlscript",wmv:"audio/x-ms-wmv",wmx:"video/x-ms-wmx",wmz:"application/x-ms-wmz",wpng:"image/x-up-wpng",wps:"application/vnd.ms-works",wpt:"x-lml/x-gps",wri:"application/x-mswrite",wrl:"x-world/x-vrml",wrz:"x-world/x-vrml",ws:"text/vnd.wap.wmlscript",wsc:"application/vnd.wap.wmlscriptc",wv:"video/wavelet",wvx:"video/x-ms-wvx",wxl:"application/x-wxl","x-gzip":"application/x-gzip",xaf:"x-world/x-vrml",xar:"application/vnd.xara",xbm:"image/x-xbitmap",xdm:"application/x-xdma",xdma:"application/x-xdma",xdw:"application/vnd.fujixerox.docuworks",xht:"application/xhtml+xml",xhtm:"application/xhtml+xml",xhtml:"application/xhtml+xml",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xll:"application/x-excel",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xm:"audio/x-mod",xml:"text/plain",xmz:"audio/x-mod",xof:"x-world/x-vrml",xpi:"application/x-xpinstall",xpm:"image/x-xpixmap",xsit:"text/xml",xsl:"text/xml",xul:"text/xul",xwd:"image/x-xwindowdump",xyz:"chemical/x-pdb",yz1:"application/x-yz1",z:"application/x-compress",zac:"application/x-zaurus-zac",zip:"application/zip",json:"application/json"};for(e=0,t=(i=i?i.split(","):[]).length;e<t;e++)o.hasOwnProperty(i[e])&&a.push(o[i[e]]);if(a.length)return a.join(",")}(i.extension)),i.multiple&&t.attr("multiple","multiple"),i.title&&t.attr("title",i.title),"static"===i.element.css("position")&&i.element.css("position","relative"),i.uploader.append(t),i._form=!window.File,i._file=t,!i._form&&(i.dragenter||i.dragleave||i.drop)&&i.drag.init(i))},_createButtonSwf:function(){function i(i){return c.hasOwnProperty(i)&&(c[i]=a._index+"_",a._index++),c[i]}var a=this,e=a.element,t=e.clone(),p=void 0,n=void 0,l=void 0;if(a._clone=t,e.attr("id")?(l=e.attr("id"),t.removeAttr("id").attr("data-id",l)):(l="uploader"+(new Date).getTime(),e.attr("id",l)),t.css("position","absolute"),e.before(t),p={flash_url:a.swf,upload_url:a.url,file_upload_limit:100,file_queue_limit:100,file_types:"*.*",button_placeholder_id:l,button_text:'<a class="uploader_swf_button"></a>',button_text_style:".uploader_swf_button{}",button_width:e.outerWidth(),button_height:e.outerHeight(),button_cursor:"cursor",button_window_mode:"transparent",file_post_name:"uploader_file",file_queue_error_handler:function(e,t,o){t=parseInt(t);var p=e.name,n=i(p);-110===t?a.__error(n,p,"maxSize"):-130===t&&a.__error(n,p,"extensionError")},file_dialog_complete_handler:function(i,e){i&&a.autoUpload&&n.startUpload()},upload_start_handler:function(e){var t=e.name,o=i(t);return!1===a.__validate(o,t)?(a.__error(o,t,"validateError"),!1):a.__submit(o,t)},upload_success_handler:function(e,t){if(e){var o=e.name,p=i(o);a.__complete(p,o,t),n.getStats().files_queued&&n.startUpload()}},upload_error_handler:function(e,t,o){if(e){var p=e.name,n=i(p);a.__error(n,p,"serverError",500)}},queue_complete_handler:function(i){a.__queuecomplete()},debug:!1},a.maxSize&&(p.file_size_limit=a.maxSize+"b"),a.extension&&(p.file_types=a.extension.replace(/,/g,";").replace(/(\w+)/g,"*.$1").replace(/^\*$/,"*.*")),a.progress){var r=+new Date;p.upload_progress_handler=function(e,t,o){var p=e.name,n=i(p),l=+new Date,c=parseInt(t/o*100)/100;(l-r>99||1===c)&&(r=l,a.__progress(n,p,t,o,c))}}var c={};a._swf=n=new SWFUpload(p),a.uploader=(0,o.default)("#"+n.movieName)},_enQueue:function(){var i=this,a=void 0,e=void 0,t=void 0;i._swf||(a=i._file,e=i._queue,a.unbind("click,change").removeAttr("style"),t=(0,o.default)('<li data-index="'+i._index+'" id="uploader_item'+i._index+'" class="uploader_item uploader_todo"></li>'),e.append(t),t.append(a),i._index++,i._createButton())},_validateFile:function(){function i(){if(a._extension&&(l=n.match(/\w+$/),l=l?l[0].toLowerCase():"",!a._extension.hasOwnProperty(l)))return"extensionError"}var a=this,e=a.maxSize,t=a.minSize,o=void 0,p=void 0,n=void 0,l=void 0,r=void 0,c=void 0,s=void 0,d=void 0,m=void 0,u=void 0;if(a._swf)return!0;if(o=a._file[0],a._form){if(p=a._index+"_",n=o.value.substr(o.value.lastIndexOf("\\")+1),c=i())return a.__error(p,n,c),!1}else for(s=0,d=(u=o._dragFiles||o.files).length;s<d;s++)if(m=u[s],n=m.name,p=a._index+"_"+s,c=function(){if(c=i())return c;if(e>0||t>0){if(0===(r=m.size))return"emptyError";if(t>r)return"minSizeError";if(e<r)return"maxSizeError"}return!1===a.__validate(p,n)?"validateError":void 0}())return a.__error(p,n,c),!1;return!0},events:{click:function(i){if(!1===this.__click(i))return!1;this._file[0]._dragFiles&&delete this._file[0]._dragFiles},change:function(i){var a=this;!1!==a.__change(i)&&!0===a._validateFile()?(a._enQueue(),a.autoUpload&&a.upload()):a.clearFile()}},UPLOADER_DRAG:{init:function(i){var a=this.drag;i&&(document.ondragenter=a.enter,document.ondragover=a.over,document.ondrop=a.drop,document.ondragleave=a.leave,a.list.push(i))},enter:function(i){i.preventDefault(),document.ondragenter=null,window.attachEvent&&(0,o.default)(document).bind("mouseover",this.drag.releaseCheck),this.drag.trigger(i,"dragenter")},over:function(i){i.preventDefault(),i.dataTransfer.dropEffect="move"},leave:function(i){this.drag.isLeaveDocument(i)&&this.drag.release(i,"dragleave")},drop:function(i){i.preventDefault(),this.drag.release(i,"drop")},release:function(i,a){document.ondragenter=this.drag.enter,this.drag.trigger(i,a||"mouseleave")},releaseCheck:function(i){i.dataTransfer||((0,o.default)(document).unbind("mouseover",this.drag.releaseCheck),this.drag.release(i,"dragleave"))},isLeaveDocument:window.mozRequestAnimationFrame?function(i){return!i.relatedTarget||!document.elementFromPoint(i.clientX,i.clientY)}:window.msIndexedDB?function(i){return 0===i.x&&0===i.y||!document.elementFromPoint(i.clientX,i.clientY)}:/Apple/.test(navigator.vendor)?function(i){return i.x<0||i.y<0}:function(i){return 0===i.x&&0===i.y},dropTarget:window.mozRequestAnimationFrame?function(i){return document.elementFromPoint(i.clientX,i.clientY)||i.target}:function(i){return i.toElement||i.target},list:[],trigger:function(i,a){var e=void 0,t=void 0,p=this.drag.list,n=p.length,l=void 0,r=void 0;if("drop"===a)for(l=this.drag.dropTarget(i),t=0;t<n;t++)if(e=p[t]){if(e[a]&&e[a](i),(r=e.dropSelector?(0,o.default)(e.dropSelector):e.element)[0]===l||r.find(l).length){e._drop(i);break}}else p=p.splice(t,1),t--;else for(t=0;t<n;t++)(e=p[t])?e[a]&&e[a](i):(p=p.splice(t,1),t--);0===p.length&&(document.ondragenter=null,document.ondragover=null,document.ondragleave=null,document.ondrop=null)}}})}}).default});