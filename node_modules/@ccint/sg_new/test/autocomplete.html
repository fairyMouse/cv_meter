<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,shrink-to-fit=no">
    <style>
        body{
            margin:0;
            text-align: center;
        }
    </style>
    <script>start_time = +new Date();</script>
    <title>no route</title>
</head>
<body>
<div class="input_wrapper">
	<input type="text" id="test">
	<input type="text" id="test1">
</div>
<script type="text/javascript" src="../node_modules/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../node_modules/art-template/lib/template-web.js"></script>
<script type="text/javascript" src="../dist/sg.min.js"></script>
<script type="text/javascript" src="../dist/autocomplete.min.js"></script>
<script>
  List = [
    {
      text: 'abc'
    },
    {
      text: 'abcde'
    },
    {
      text: 'abstract'
    },
    {
      text: 'at least'
    },
    {
      text: 'bad'
    },
    {
      text: 'dash'
    },
    {
      text: 'dot',
      html: '<b>dot</b>'
    },
    {
      text: 'extremely abstract'
    },
    {
      text: 'very abstract'
    },
    {
      text: 'don\'t do it'
    }
  ];
  function randomString(len) {
    len = len || 32;
    var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/
    var maxPos = $chars.length;
    var pwd = '';
    for (i = 0; i < len; i++) {
      pwd += $chars.charAt(Math.floor(Math.random() * maxPos));
    }
    return pwd;
  }
  sg.init();
  sg.Component.AutoComplete($('#test'),  {
    list : List,
    historyKey: 'hello',
    onSelect: function(data) {
      console.log(data)
    }
  });

  var timer = 0;
  var b = sg.Component.AutoComplete($('#test1'),  {
    list : function(searchKey, next) {
      clearTimeout(timer);
      timer = setTimeout(function() {
        var len = Math.random() * 10;
        var list = [];
        for(var i =0; i<len; i++) {
          list.push({
            text: randomString(10)
          });
        }
        next(list);
      }, 500);
    },
    historyKey: 'hello',
    onSelect: function(data) {
      console.log(data)
    }
  });

</script>
</body>
</html>