<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,shrink-to-fit=no">
	<style>
		body{
			margin:0;
			text-align: center;
		}
		.outer {
			height: 500px;
		}
		#box {
			display: block;
			margin: 0 auto;
			overflow: hidden;
			width: 100px;
			height: 100px;;
		}
	</style>
    <title>uploaderPc</title>
</head>
<body>
<div class="main" id="main">
	<h1>home</h1>
	<div class="outer" id="outer">
		<a id="box">上传文件</a>
	</div>
</div>
<script type="text/javascript" src="../node_modules/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../node_modules/art-template/lib/template-web.js"></script>
<script type="text/javascript" src="../dist/sg.min.js"></script>
<script type="text/javascript" src="../dist/uploader_pc.min.js"></script>
<script>
	sg.init();
	sg.Component.UploaderPc($('#box'), {
		url: location.pathname.substr(0, location.pathname.lastIndexOf('/') + 1) + 'uploader.php?url=' + encodeURIComponent(location.href.replace('/iu.uploader.html', '')),
		autoUpload: true,
		multiple: true,
		extension : 'jpg,png',
		maxSize : 1000034,
		title: '请点击按钮, 选择文件上传',
		// swf :  '../js/components/uploader.swf',
		click: function () {
			// return false;
			console.log(1);
		},
		change: function (e) {
			console.log(['change']);
		},
		validate: function (id, name) {
			console.log(['validate', id, name]);
		},
		submit: function (id, name) {
			console.log(['submit', id, name]);
		},
		progress: function (id, name, loaded, total, percent) {
			console.log(['progress', id, name, loaded, total, percent]);
			/*$('#img_progress').stop().animate({
				width: $('#img_progress_bar').width() * percent
			});*/
		},
		cancel: function (id, name) {
			console.log(['cancel', id, name]);
		},
		success: function (id, name, data) {
			console.log(['success', id, name, data]);
			/*if (/png$|gif$|jpeg$|jpg$/i.test(name)) {
				$('#img_list').append('<img src="' + data + '"/>');
			}*/
		},
		error: function (id, name, type, errno) {
			console.log(['error', id, name, type, errno]);
		},
		dragenter: function () {
			$('#outer').css('background-color', 'green');
			//$('#drag_event').html('dragenter');
		},
		dragleave: function () {
			$('#outer').css('background-color', 'red');
			//$('#drag_event').html('dragleave');
		},
		drop: function () {
			$('#outer').css('background-color', 'white');
			//$('#drag_event').html('drop');
		},
		// dropSelector : '#demo_single'
		dropSelector: document
	});
</script>
</body>
</html>