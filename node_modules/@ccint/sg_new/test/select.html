<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,shrink-to-fit=no">
	<style>
		body{
			margin:0;
			text-align: center;
		}
	</style>
	<script>start_time = +new Date();</script>
    <title>no route</title>
</head>
<body>
<div class="main" id="main">
	<h1>home</h1>
	<div sg-view="demo"></div>
</div>
<script type="text/template" id="demo">
	<div class="select_wrapper" style="text-align: center">
		<div sg-component="Select" id="select" style="display: inline-block">
			<param id="width" type="int" value="300">
			<param id="contents" type="json" value='{{content}}'>
			<param id="nonetext" type="string" value='choose your favourite language...'>
		</div>
	</div>
	<br>
	<div class="select_wrapper" style="text-align: center">
		<div sg-component="MSelect" id="mselect" style="display: inline-block">
			<param id="contents" type="json" value='{{content}}'>
			<param id="default_index" type="json" value='[0, 1, 2]'>
			<param id="width" type="int" value="300">
		</div>
	</div>
	<div class="select_wrapp" style="text-align: center">
		<div id="my_select" style="display: inline-block">

		</div>
	</div>
</script>
<script type="text/javascript" src="../node_modules/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../node_modules/art-template/lib/template-web.js"></script>
<script type="text/javascript" src="../dist/sg.min.js"></script>
<script type="text/javascript" src="../dist/select.min.js"></script>
<script>
	sg.init();
	sg.View.define('demo', {
		onBeforeRender : function(next) {
			var content = [[1, 'php'], [2, 'python'], [3, 'js']];
			next({
				content: JSON.stringify(content)
			});
		},
		onRender: function() {
		
			sg.on('select.onchange', function() {
				var language = sg.Component.Select($('#select')).getSelection()[1];
				console.log(language + "是世界上最吼的语言!");
			});

			sg.on('mselect.onchange', function() {
				var mselect = sg.Component.MSelect($('#mselect')),
					languages = mselect.getSelection();

				if (languages.length) {
					mselect.setTitle($.map(languages, function(key, value) {
							return key[1];
					}).join(','));
				}
			});

			sg.Component.Select($('#my_select'), {
				contents: [[1, 'index1'], [2, 'index2']],
				default_index: null,	
				nonetext: 'please select',

				width: 80,
				row_height: 15,
				select_height: 200,
			});
		}
	});
</script>
</body>
</html>
